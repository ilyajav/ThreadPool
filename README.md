Thread Pool

Описание проекта:

Реализация пользовательского пула потоков на Java с гибкой конфигурацией, логированием, политиками отклонения задач и распределением задач по принципу Round Robin. 

Цель: 

Углубленное изучение принципов работы пулов потоков путем создания собственного аналога, альтернативного стандартному ThreadPoolExecutor.

Основные компоненты:

| Компонент | Назначение |
| CustomExecutor | Интерфейс, определяющий методы пула |
| CustomThreadPool | Реализация пула потоков |
| Worker | Рабочий поток, выполняющий задачи из очереди |
| TaskQueue | Очередь задач для одного потока |
| RejectedExecutionHandler | Обработчик отклонённых задач |

Поддерживаемые параметры пула:

| Параметр | Описание |
| corePoolSize | Минимальное число потоков (всегда активны) |
| maxPoolSize | Максимальное число потоков |
| keepAliveTime + timeUnit | Время жизни простаивающих потоков сверх corePoolSize |
| queueSize | Размер общей очереди задач |
| minSpareThreads | Минимум резервных потоков, которые всегда должны быть доступны |

Анализ производительности:

Сравнивая наш кастомный пул с ThreadPoolExecutor из JDK:

| Характеристика | Стандартный пул (JDK) | Наш пул |   
| Производительность | Высокая | Ниже из-за дополнительного логирования и Round Robin |
| Гибкость | Фиксированная реализация | Возможна кастомизация алгоритмов |
| Управление очередями | Одна общая очередь | Несколько очередей (по одной на поток) |
| Распределение нагрузки | FIFO | Round Robin между очередями |
| Политики отказа | Разнообразные | Простая реализация через RejectedExecutionHandler |
| Логирование | Нет | Да, подробное |
| Поддержка shutdown | Да | Да |

Вывод:

Хотя данный пул потоков демонстрирует меньшую производительность по сравнению со стандартным ThreadPoolExecutor, 
он предоставляет расширенные возможности для гибкой конфигурации и детального контроля над поведением системы. 
Это делает его подходящим инструментом для образовательных целей, а также надежной основой для разработки более сложных и специализированных решений.

 Исследование параметров пула:

роизводительность пула потоков оценивалась путем выполнения серии тестов. 
В каждом тесте запускалось 100 задач, каждая из которых содержала случайную задержку в диапазоне от 50 до 200 миллисекунд. 
Тестирование проводилось для различных конфигураций пула.

| Конфигурация | Время выполнения |
| core=2, max=4, queue=5 | 3.2 секунды |
| core=4, max=8, queue=10 | 2.1 секунды |
| core=1, max=10, queue=20 | 2.5 секунды |
| core=2, max=2, queue=100 | 4.8 секунды |

Рекомендации:
- В условиях высокой нагрузки рекомендуется увеличить количество активных рабочих потоков в пуле, чтобы обеспечить своевременную обработку поступающих задач и избежать задержек.
- Для оптимизации обработки большого числа задач с низкой длительностью рекомендуется увеличить размер очереди задач.
  Это позволяет сгладить пики нагрузки и предотвратить потерю задач, временно превышающих возможности пула потоков.
- Не стоит выставлять minSpareThreads слишком большим — это может вызывать неоправданное создание потоков.
Алгоритм распределения задач (Round Robin)

В данном пуле реализовано распределение задач по нескольким очередям (по одной на поток), используя алгоритм Round Robin.

 Как работает:
- Задачи распределяются между доступными очередями с использованием алгоритма, обеспечивающего равномерное распределение нагрузки.
- Каждый рабочий поток предназначен для обработки задач, находящихся исключительно в закрепленной за ним очереди,
  что обеспечивает строгую изоляцию и отсутствие конкуренции за ресурсы между потоками.
- Данная архитектура позволяет избежать конкуренции между потоками за доступ к общей очереди задач, что, в свою очередь,
  значительно снижает вероятность возникновения блокировок и повышает общую пропускную способность системы..

Преимущества:
- Данная архитектура позволяет избежать конкуренции между потоками за доступ к общей очереди задач, что,
  в свою очередь, значительно снижает вероятность возникновения блокировок и повышает общую пропускную способность системы.
- Архитектура обеспечивает более предсказуемое поведение системы в многопоточной среде, что упрощает отладку и анализ производительности.

Недостатки:
- Алгоритм распределения задач не принимает во внимание текущий уровень загруженности отдельных очередей, что может приводить к неравномерному распределению нагрузки
- Использование алгоритма, не учитывающего загрузку отдельных очередей, может приводить к существенному дисбалансу нагрузки между потоками,
  особенно в ситуациях, когда задачи характеризуются значительным разбросом по времени выполнения.
